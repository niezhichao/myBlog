<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nzc.blog.business.dao.BlogTypeDao">
    <insert id="insertOne" parameterType="BlogType">
            insert  into blog_type(
            blog_type_id,
            type_name,
            content,
            create_time,
            update_time,
            status,
            sort
            )values (
            #{pid},
            #{typeName},
            #{content},
            #{createTime},
            #{updateTime},
            #{status},
            #{sort}
            )
        </insert>
        <select id="queryAll" resultType="BlogType">
                select
                blog_type_id as pid,
                type_name as typeName,
                content as content,
                status as status
                from blog_type
        </select>

        <select id="queryList" parameterType="BlogType" resultType="BlogType">
                select
                blog_type_id as pid,
                type_name as typeName,
                content as content,
                status as status
                from blog_type
                where 1=1
                <if test="pid != null and pid !=''">
                        and pid = #{pid}
                </if>
                <if test="typeName != null and typeName !=''">
                        and type_name like concat('%',#{typeName} ,'%')
                </if>
                <if test="content != null and content !=''">
                        and content like concat('%',#{content} ,'%')
                </if>
        </select>
</mapper>

